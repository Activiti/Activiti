<?xml version="1.0" encoding="UTF-8"?>

<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC"
  xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema"
  expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/test">

  <process id="timerProcess">

    <startEvent id="start" />
    <sequenceFlow id="flow1" sourceRef="start" targetRef="task" />
    <userTask id="task" />

    <boundaryEvent id="escalationTimer" cancelActivity="true" attachedToRef="task">
      <timerEventDefinition>
        <timeDuration>PT4H</timeDuration>
      </timerEventDefinition>
    </boundaryEvent>

    <sequenceFlow id="flow3" sourceRef="escalationTimer" targetRef="afterTimerTest" />
    <userTask id="afterTimerTest" />
    <sequenceFlow id="flow4" sourceRef="afterTimerTest" targetRef="end" />
    
    <sequenceFlow id="flow2" sourceRef="task" targetRef="end" />
    <endEvent id="end" />

  </process>

</definitions>